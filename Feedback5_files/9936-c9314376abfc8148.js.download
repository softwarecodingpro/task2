"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9936],{93799:function(e,t,n){n.d(t,{Q:function(){return parse}});var r=n(74557);let parseText=e=>(function mergeAllSideBySideStrings(e){return e.reduce((e,t)=>{if("string"!=typeof t)return t.children=mergeAllSideBySideStrings(t.children),e.push(t),e;let n=e.length>0?e[e.length-1]:null;return"string"==typeof n?e[e.length-1]=n+t:e.push(t),e},[])})(function(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n];if("string"!=typeof r&&"search_quality_reflection"===r.type){let l=null;for(let r=n;r<e.length;r++){let n=e[r];if("string"!=typeof n&&"search_quality_score"===n.type){l=n,t.push(r);break}}l&&r.children.push(l)}}let n=[];for(let r=0;r<e.length;r++)t.includes(r)||n.push(e[r]);return n}(function(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n];if("string"!=typeof r&&"search_query"===r.type){let l=null;for(let r=n;r<e.length;r++){let n=e[r];if("string"!=typeof n){if("search_results"===n.type){l=n,t.push(r);break}if("stdout"===n.type&&(l=function(e){for(let t of e.children)if("string"!=typeof t&&"search_results"===t.type)return t;return null}(n))){t.push(r);break}}}l?r.children.push(l):console.warn("no search results found for query ".concat(JSON.stringify(r)))}}let n=[];for(let r=0;r<e.length;r++)t.includes(r)||n.push(e[r]);return n}(function(e){let t=function(e){let t=null;for(let n of e)if("string"!=typeof n&&"bibliography"===n.type){t=n;break}return t}(e);if(!t)return e;let n=[];for(let r of e)n.push(function recurse(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e)return e;{if("bib_reference"===e.type&&n&&t){let n=e.children[0];for(let r of t.children)if("bib_item"===r.type){let t=JSON.parse(JSON.stringify(r)),l=null;for(let e of t.children)"bib_reference"===e.type&&(e.type="bib_item_reference",l=e.children[0]);if(l&&n===l){e.children.push(t);break}}}n="cite"===e.type;let r=[];for(let t of e.children)r.push(recurse(t,n));return{...e,children:r}}}(r));return n}((0,r.l)(e))))),parse=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t+(e.editedText||e.text);return parseText(n)}},54217:function(e,t,n){n.d(t,{Z:function(){return AntmlArtifact}});var r=n(57437),l=n(63574);function AntmlArtifact(e){let{id:t,title:n}=e;return(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded inline-flex items-center w-full",children:[(0,r.jsx)(l.E,{className:"flex-none h-10 w-auto border-r p-2",weight:"regular"}),(0,r.jsxs)("div",{className:"p-1 px-2",children:[(0,r.jsx)("div",{className:"font-medium",children:t}),(0,r.jsx)("div",{className:"text-xs",children:n})]})]})}},32149:function(e,t,n){n.d(t,{Z:function(){return AntmlImage}});var r=n(57437);function AntmlImage(e){let{src:t}=e;return(0,r.jsx)("img",{src:t,alt:""})}},55306:function(e,t,n){var r=n(57437),l=n(95914),i=n(25911),a=n(2265);t.Z=e=>{let{showToggle:t,source:n,pageContent:o,error:s}=e,[c,d]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"w-full rounded py-3",children:[t&&(0,r.jsxs)("div",{className:"inline-flex w-full gap-2 cursor-pointer items-center pl-2 ".concat(s?"text-red-500":""),onClick:()=>d(!c),children:[s?(0,r.jsx)(i.X,{className:"h-4 w-4",weight:"bold"}):(0,r.jsx)(l.T,{className:"h-4 w-4 ".concat(c&&"rotate-90"),weight:"bold"}),(0,r.jsx)("div",{className:"",children:"Fetch Result"})]}),(0,r.jsxs)("div",{className:"w-full bg-gray-50 ".concat(t&&!c&&"hidden"),children:[(0,r.jsx)("div",{className:"w-full mt-2 bg-gray-200 border-b border-gray-200"}),(0,r.jsxs)("div",{className:"flex flex-col p-2 gap-2",children:[(0,r.jsx)("div",{children:n}),(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:o})]})]})]})}},79531:function(e,t,n){n.d(t,{Z:function(){return InvalidXML}});var r=n(57437),l=n(57042),i=n(2265);function InvalidXML(e){let{error:t,children:n}=e;return(0,r.jsxs)("div",{className:"flex flex-col bg-red-50 border border-red-200 rounded divide-y divide-y-red-200 text-red-500",children:[(0,r.jsx)("div",{className:"font-medium rounded-t p-2",children:"Invalid XML"}),(0,r.jsx)("div",{className:"p-2 rounded-b bg-white",children:t.cause&&(0,r.jsx)(ExpandableText,{children:t.cause.message})}),(0,r.jsx)("div",{className:"p-2 rounded-b bg-white",children:(0,r.jsx)(ExpandableText,{children:n})})]})}function ExpandableText(e){let{children:t}=e,[n,a]=(0,i.useState)(!1);return(0,r.jsx)("div",{className:(0,l.Z)(n&&"whitespace-pre-wrap p-2 rounded-sm",!n&&"truncate","cursor-pointer hover:bg-red-100"),onClick:()=>a(!n),children:t})}},49467:function(e,t,n){n.d(t,{F:function(){return c}});var r=n(57437),l=n(2265),i=n(57042),a=n(63193),o=n(14027);let Line=e=>{let{start_coordinate:t,end_coordinate:n,color:l="black",thickness:i=1,dashed:a=!1,addArrowAtEnd:o=!1}=e,s=n[0]-t[0],c=n[1]-t[1],d=Math.atan2(c,s)*(180/Math.PI),u=6*i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute z-50",style:{width:"".concat(Math.sqrt(s*s+c*c),"px"),height:"".concat(i,"px"),backgroundColor:l,borderStyle:a?"dashed":"solid",transformOrigin:"0 50%",transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(d,"deg)")}}),o&&(0,r.jsx)("div",{className:"absolute z-50",style:{position:"absolute",left:"".concat(n[0],"px"),top:"".concat(n[1],"px"),width:0,height:0,transform:"translate(-50%, -50%) rotate(".concat(d+90,"deg)"),borderLeft:"".concat(u/2,"px solid transparent"),borderRight:"".concat(u/2,"px solid transparent"),borderBottom:"".concat(u,"px solid ").concat(l)}})]})},s=l.forwardRef((e,t)=>{let{src:n,annotations:o=[],className:s="",...c}=e,d=(0,l.useRef)(null),u=(0,l.useRef)(null),[p,h]=(0,l.useState)(null),[m,f]=(0,l.useState)(1);return(0,l.useEffect)(()=>{let e=u.current;if(!e)return;let handleLoad=()=>{h({width:e.naturalWidth,height:e.naturalHeight})};return e.complete&&handleLoad(),e.addEventListener("load",handleLoad),()=>e.removeEventListener("load",handleLoad)},[n]),(0,l.useEffect)(()=>{if(!o.length||!p||!d.current)return;let updateAnnotationPositions=()=>{let e=d.current,t=u.current;if(!e||!t||!p)return;let n=t.getBoundingClientRect(),r=n.width,l=r/p.width;f(l)},e=new ResizeObserver(updateAnnotationPositions);return e.observe(d.current),updateAnnotationPositions(),()=>{e.disconnect()}},[o,p]),(0,r.jsxs)("div",{ref:d,className:"relative inline-block",children:[(0,r.jsx)("img",{ref:e=>{"function"==typeof t?t(e):t&&(t.current=e),u.current=e},src:n,className:s,...c}),p&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:o.map((e,t)=>"icon"===e.type?(0,r.jsx)("div",{className:(0,i.Z)("absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-auto hover:opacity-0",e.className),style:{left:"".concat(e.coordinate.x*m,"px"),top:"".concat(e.coordinate.y*m,"px"),width:"".concat(e.size||24,"px"),height:"".concat(e.size||24,"px"),color:e.color||"currentColor"},onClick:e.onClick,title:e.tooltip,children:(0,r.jsx)(a.Z,{icon:e.icon,className:(0,i.Z)("cursor-pointer hover:opacity-80 transition-opacity",e.className)})},t):"circle"===e.type?(0,r.jsx)("div",{className:(0,i.Z)("absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-auto hover:opacity-0",e.animate&&"animate-custom-bounce"),style:{left:"".concat(e.coordinate.x*m,"px"),top:"".concat(e.coordinate.y*m,"px"),width:"".concat(2*(e.radius||10)*m,"px"),height:"".concat(2*(e.radius||10)*m,"px"),borderRadius:"50%",backgroundColor:e.color||"currentColor",opacity:e.opacity||1,borderColor:e.borderColor||"currentColor"},onClick:e.onClick},t):"rect"===e.type?(0,r.jsx)("div",{className:(0,i.Z)("absolute pointer-events-auto border",e.className),style:{left:"".concat(e.rect.x*m,"px"),top:"".concat(e.rect.y*m,"px"),width:"".concat(e.rect.width*m,"px"),height:"".concat(e.rect.height*m,"px"),borderColor:e.color||"currentColor",borderWidth:2},onClick:e.onClick},t):"line"===e.type?(0,r.jsx)("div",{className:"hover:opacity-0",children:(0,r.jsx)(Line,{start_coordinate:[e.coordinate.x*m,e.coordinate.y*m],end_coordinate:[(e.coordinate.x+e.deltas.xDelta)*m,(e.coordinate.y+e.deltas.yDelta)*m],color:"indigo",thickness:2,addArrowAtEnd:e.addArrowAtEnd})},t):"text"===e.type?(0,r.jsx)("div",{className:(0,i.Z)("absolute pointer-events-auto hover:!opacity-0",e.className||"bg-white text-black p-1 rounded-md text-xl"),style:{left:"".concat(e.coordinate.x*m,"px"),top:"".concat(e.coordinate.y*m,"px"),color:e.color||"currentColor",opacity:e.opacity||1},onClick:e.onClick,children:e.text},t):null)})]})});s.displayName="AnnotatedImage";let c=(0,l.forwardRef)((e,t)=>{let{src:n,allowExpand:a=!0,annotations:c=[],className:d="",showSize:u=!1,navigationGroup:p,caption:h="",...m}=e,[f,x]=(0,l.useState)(!1),[y,g]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),w=(0,l.useRef)(null),j=(0,l.useRef)(null),[N,_]=(0,l.useState)({width:void 0,height:void 0}),[k,A]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(!w.current)return;let handleLoad=()=>{w.current&&_({width:w.current.naturalWidth,height:w.current.naturalHeight})};w.current.onload=handleLoad,w.current.complete&&handleLoad()},[]);let C=(0,l.useCallback)(()=>{if(!p||!f)return;let e=Array.from(document.querySelectorAll('[data-navigation-group="'.concat(p,'"]'))),t=e.findIndex(e=>e===w.current);-1!==t&&b({index:t+1,total:e.length})},[p,f]),S=(0,l.useCallback)(e=>{let t;if(!p)return;let n=Array.from(document.querySelectorAll('[data-navigation-group="'.concat(p,'"]'))),r=n.findIndex(e=>e===w.current);if(-1===r)return;t="next"===e?r===n.length-1?r:r+1:0===r?0:r-1,x(!1);let l=n[t];l.click(),l.scrollIntoView({behavior:"instant",block:"nearest"})},[p]);(0,l.useEffect)(()=>{if(!f)return;let handleKeydown=e=>{"Escape"===e.key&&f?x(!1):"ArrowRight"===e.key&&p?(e.stopPropagation(),S("next")):"ArrowLeft"===e.key&&p&&(e.stopPropagation(),S("prev"))};return window.addEventListener("keydown",handleKeydown,!0),()=>window.removeEventListener("keydown",handleKeydown,!0)},[f,S,p]),(0,l.useEffect)(()=>{f&&C()},[f,C]);let X=(0,l.useCallback)(e=>{w.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{ref:X,src:n,onLoad:()=>A(!1),annotations:c,onClick:()=>a&&x(!0),className:(0,i.Z)("cursor-pointer ".concat(d),k&&"min-h-[300px]"),"data-navigation-group":p,...m}),f&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center gap-2 justify-center bg-black/80",onClick:()=>x(!1),children:[(0,r.jsxs)("div",{className:"absolute z-50 top-4 right-4 p-2 flex items-center gap-2 text-white bg-gray-600 rounded-md",children:[v&&(0,r.jsxs)("div",{children:[v.index,"/",v.total]}),(0,r.jsx)("button",{className:"hover:text-gray-300",onClick:()=>x(!1),children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s,{ref:j,src:n,annotations:c,className:"max-w-full max-h-[90vh] object-contain",onClick:e=>e.stopPropagation(),onMouseMove:e=>{if(!j.current||!N.width||!N.height)return;let t=j.current.getBoundingClientRect(),n=N.width/t.width,r=N.height/t.height,l=Math.round((e.clientX-t.left)*n),i=Math.round((e.clientY-t.top)*r);l>=0&&l<=N.width&&i>=0&&i<=N.height?g({client:{x:e.clientX,y:e.clientY},image:{x:l,y:i}}):g(null)},onMouseLeave:()=>{g(null)},alt:m.alt||"Enlarged image"}),y&&(0,r.jsxs)("div",{className:"fixed bg-black/75 text-white px-2 py-1 rounded text-sm pointer-events-none opacity-40 z-50 mt-0",style:{left:"".concat(y.client.x+15,"px"),top:"".concat(y.client.y+12,"px")},children:[y.image.x,", ",y.image.y]})]}),h&&(0,r.jsx)("div",{className:"w-full max-w-4xl bg-white rounded-md whitespace-pre-wrap overflow-y-scroll text-black p-4 text-sm h-48",children:h})]},n),u&&(0,r.jsxs)("div",{children:["Size: ",N.width," x ",N.height]})]})});c.displayName="OpinionatedImage"},42426:function(e,t,n){var r=n(57437),l=n(95914),i=n(25911),a=n(2265);function Item(e){let{item:t}=e;return(0,r.jsxs)("li",{className:"flex flex-col gap-2",children:[(0,r.jsx)(Source,{source:t.source}),(0,r.jsx)(Summary,{children:t.summary}),(0,r.jsx)(Content,{children:t.content})]})}function Source(e){let{source:t}=e;if(!t)return null;let n=t.split(",")[0];return(0,r.jsxs)("div",{className:"flex flex-col w-full gap-2 py-1",children:[(0,r.jsx)("div",{className:"font-bold",children:"Source"}),(0,r.jsx)("a",{className:"underline text-ellipsis text-xs text-gray-500",target:"_blank",href:n,rel:"noopener noreferrer",children:t})]})}function Summary(e){let{children:t}=e;return t?(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"font-bold",children:"Summary"}),(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:t.trim()})]}):null}function Content(e){let{children:t}=e;return t&&0!==t.length?(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"font-bold",children:"Content"}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:t.map((e,t)=>(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:e.trim()},t))})]}):null}t.Z=e=>{let{items:t,showToggle:n,text:o,error:s}=e,[c,d]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"w-full rounded",children:[n&&(0,r.jsxs)("div",{className:"inline-flex w-full gap-2 cursor-pointer items-center ".concat(s?"text-red-500":""),onClick:()=>d(!c),children:[s?(0,r.jsx)(i.X,{className:"h-4 w-4",weight:"bold"}):(0,r.jsx)(l.T,{className:"h-4 w-4 ".concat(c&&"rotate-90"),weight:"bold"}),(0,r.jsx)("div",{className:"",children:o||"Search Results"})]}),(0,r.jsx)("div",{className:"w-full bg-gray-50 ".concat(n&&!c&&"hidden"),children:(0,r.jsx)("ul",{className:"flex flex-col gap-4 p-2",children:t.map((e,t)=>(0,r.jsx)(Item,{item:e},t))})})]})}},77956:function(e,t,n){n.d(t,{Z:function(){return AssistantResponseRenderer}});var r=n(57437),l=n(43570),i=n(2265),a=n(41588),o=n(44357),s=n(97462),c=n(69291),d=n(63267),u=n(91990),p=n(98234),h=n(85581),m=n(45701),f=n(13904),x=n(21),y=n(57188),g=n(20353);function addHName(){return function(e){(0,p.Vn)(e,"element",e=>{e.data=e.data||{},e.data.hName=e.name})}}function cleanupPositions(){return function(e){(0,p.Vn)(e,e=>{e.position&&delete e.position})}}function getInlineXmlAttributes(e){let t={};return t.inline="true",e.hasInlineBefore&&(t["inline-before"]="true"),e.hasInlineAfter&&(t["inline-after"]="true"),e.hasSpaceBefore&&(t["space-before"]="true"),e.hasSpaceAfter&&(t["space-after"]="true"),t}function createInvalidXmlElement(e,t){return{type:"element",name:"invalid_xml",attributes:"inlineXml"===t.type?getInlineXmlAttributes(t):{},children:[{type:"text",value:t.text}],data:{error:e}}}function findAntXMLStartTag(e){let t=/<([a-zA-Z_:][a-zA-Z0-9_:.-]*)([^>])*?>/.exec(e.text);return t}function parseAntXmlAttributes(e){let t;let n={},r=/(\w+)="([^"\\]*(?:\\.[^"\\]*)*)"|(\w+)='([^'\\]*(?:\\.[^'\\]*)*)'/g;for(;null!==(t=r.exec(e));)t[1]?n[t[1]]=t[2].replace(/\\"/g,'"'):t[3]&&(n[t[3]]=t[4].replace(/\\'/g,"'"));return n}var v=n(29715),b=n(74557),w=n(32242);function AntmlInvoke(e){let{toolName:t,parameters:n}=e,{onClick:l,isOpen:i}=(0,w.f)("antml-invoke");function formatValue(e){return"object"==typeof e?JSON.stringify(e,null,2):String(e)}return(0,r.jsxs)("div",{children:[(0,r.jsxs)("details",{className:"flex flex-col bg-gray-50 border border-gray-200 mt-3 rounded divide-y divide-y-gray-200","data-bulk-collapse":"antml-invoke",onClick:l,open:i,children:[(0,r.jsx)("summary",{className:"font-medium rounded-t p-2",children:t}),n.map(e=>(0,r.jsxs)("div",{className:"p-2 bg-white rounded-b",children:[(0,r.jsx)("div",{className:"font-medium text-xs text-gray-600 mb-1",children:e.name}),"code"===e.name?(0,r.jsx)(v.Z,{tool:t,code:formatValue(e.value)}):("artifacts"===t||"inline_interface"===t)&&"content"===e.name?(0,r.jsxs)("details",{children:[(0,r.jsx)("summary",{className:"text-xs text-gray-600",children:(0,b.e)(formatValue(e.value),60)}),(0,r.jsx)("pre",{className:"text-xs text-gray-600 whitespace-pre-wrap break-words",children:formatValue(e.value)})]}):(0,r.jsx)("pre",{className:"text-xs text-gray-600 whitespace-pre-wrap break-words",children:formatValue(e.value)})]},e.name))]}),(0,r.jsx)("div",{className:"flex mx-auto h-4 w-1 border-l border-gray-gray-300 grow -mb-2.5"})]})}function ErrorOutput(e){let{children:t}=e;return(0,r.jsx)("div",{className:"border border-red-200 rounded mb-2 p-2 text-normal text-gray-900 text-red-500",children:t})}function Output(e){let{type:t,children:n}=e;return(0,r.jsxs)("div",{className:"flex flex-col rounded",children:[(0,r.jsx)("div",{className:"font-medium bg-gray-50 border border-gray-200 rounded-t p-2",children:t}),n]})}var j=n(32149),N=n(49467),_=n(75723),k=n(54217),A=n(79531),C=n(55306),S=n(42426),X=n(41483),I=n(31806);function AssistantResponseRenderer(e){let{responseId:t,text:n,renderMarkdown:l=!1,showThinking:d=!1,samplingFinished:u=!0}=e,p=(0,a.m)(),{onClick:h,isOpen:m}=(0,w.f)("function-result"),f=(0,i.useMemo)(()=>({...p,antml_partial:e=>{let{children:t,node:n}=e,l=n.properties.partialTagType;return"antml:thinking"===l?d?(0,r.jsx)(_.Z,{children:t}):null:(0,r.jsxs)("div",{className:"flex flex-col bg-slate-100 p-2 gap-2",children:[u?(0,r.jsxs)("div",{className:"bg-yellow-100 p-2 flex gap-2 rounded",children:[(0,r.jsx)(I.v,{className:"text-yellow-500"}),"Partial XML tag that was not closed. The model did not finish sampling for some reason."]}):null,(0,r.jsx)("pre",{className:"whitespace-pre-wrap break-words",children:t})]})},"antml:function_calls":e=>{let{children:t}=e;return t},function_calls:e=>{let{children:t}=e;return t},"antml:invoke"(e){let{node:t}=e,n=t.properties.toolName,l=t.properties.parameters;return(0,r.jsx)(AntmlInvoke,{toolName:n,parameters:l})},invoke(e){let{node:t}=e,n=t.properties.toolName,l=t.properties.parameters;return(0,r.jsx)(AntmlInvoke,{toolName:n,parameters:l})},function_results(e){let{children:t}=e;return"string"==typeof t?(0,r.jsxs)("details",{className:"flex flex-col bg-gray-50 border border-gray-200 rounded divide-y divide-y-gray-200","data-bulk-collapse":"function-result",onClick:h,open:m,children:[(0,r.jsx)("summary",{className:"font-medium rounded-t p-2",children:"output"}),(0,r.jsx)("div",{className:"p-2 rounded-b bg-white",children:(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:t})})]}):t},output:e=>{let{children:t}=e;return"string"==typeof t?(0,r.jsxs)("details",{className:"flex flex-col bg-gray-50 border border-gray-200 rounded divide-y divide-y-gray-200","data-bulk-collapse":"function-result",onClick:h,open:m,children:[(0,r.jsx)("summary",{className:"font-medium rounded-t p-2",children:"output"}),(0,r.jsx)("div",{className:"p-2 rounded-b bg-white overflow-x-auto",children:(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:t})})]}):t},stdout(e){let{children:t}=e;return(0,r.jsx)(Output,{type:"stdout",children:t})},stderr(e){let{children:t}=e;return(0,r.jsx)(Output,{type:"stderr",children:t})},system(e){let{children:t}=e;return(0,r.jsx)(Output,{type:"system",children:t})},error(e){let{children:t}=e;return(0,r.jsx)(ErrorOutput,{children:t})},output_image(e){let{children:t}=e;return t},"antml:image"(e){let{node:n,children:l}=e,i=n.properties.annotations;return i&&i.length>0?(0,r.jsx)(N.F,{src:l,annotations:i,navigationGroup:"transcript-".concat(t),className:"w-full max-h-[75vh]"}):(0,r.jsx)(j.Z,{src:l})},result(e){let{children:t}=e;return t},name:()=>null,"antml:thinking"(e){let{children:t}=e;return d?(0,r.jsx)(_.Z,{children:t}):null},text:e=>{let{children:t}=e;return(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:t})},"antml:artifact"(e){let{node:t}=e;return(0,r.jsx)(k.Z,{id:t.properties.id,title:t.properties.title})},fetch_result(e){let{node:t}=e,{source:n,pageContent:l}=t.properties;return(0,r.jsx)(C.Z,{showToggle:!0,source:n,pageContent:l})},search_results(e){var t;let{node:n}=e,l=null!==(t=n.properties.items)&&void 0!==t?t:[];return(0,r.jsx)(S.Z,{items:l,showToggle:!0})},invalid_xml(e){let{node:t,children:n}=e,l=t.properties.error;return(0,r.jsx)(A.Z,{error:l,children:n})},unknown_xml_tag(e){let{children:t}=e;return(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:t})}}),[p,t,d,u,h,m]),x=(0,X.si)();return(0,r.jsx)(CompletionText,{className:"grid-cols-1 grid gap-2.5 [&_>_*]:min-w-0",remarkPlugins:[o.Z,c.iw],antmlPlugins:[X.NJ,X._N,x],rehypePlugins:[s.Z],components:f,renderMarkdown:l,children:n})}function CompletionText(e){let{children:t,className:n,remarkPlugins:a=[],antmlPlugins:o=[],rehypePlugins:c=[],renderMarkdown:p,components:v}=e,b=(0,i.useMemo)(()=>{let e=function(e,t){let{parseMarkdown:n,remarkPlugins:r=[],rehypePlugins:l=[],antmlPlugins:i=[]}=t,a=function(e){let t=[];if(!e)return t;let n=-1,r=0;for(;n<e.length;){n+=1;let l=e[n];if("`"===l){if(e.slice(n).startsWith("```")){n+=2;let l=/```\n?/g,i=l.exec(e.slice(n));if(null!==i)n+=i.index+i[0].length-1;else{t.push({type:"text",text:e.slice(r)}),r=e.length;break}}else{let t=n+1,r=!0;for(;t<e.length&&"`"!==e[t];){if("\n"===e[t]){r=!1;break}t+=1}r&&(n=t)}}else if("<"===l){let l=/^<([a-zA-Z_:][a-zA-Z0-9_:.-]*)(\s[^>]*)?>/,i=l.exec(e.slice(n));if(null!==i){r<n&&t.push({type:"text",text:e.slice(r,n)});let l=n+i.index,a=i[1],o=new RegExp("</".concat(a,">\\n?"));n+=i.index+i[0].length;let s=o.exec(e.slice(n));if(null!==s){let i=n+s.index+s[0].length-1,a=0===l,o=function(e,t){for(t-=1;t>0;){let n=e[t];if("\n"===n)return!0;if(" "!==n&&"	"!==n)break;t-=1}return!1}(e,l),c=o||a,d=i+1===e.length,u=s[0].endsWith("\n")||function(e,t){for(t+=1;t<e.length;){let n=e[t];if("\n"===n)return!0;if(" "!==n&&"	"!==n)break;t+=1}return!1}(e,i),p=u||d,h=!c||!p,m=e.slice(l,i+1);if(h){let n=!c,r=!p,a=l>0&&" "===e[l-1],o=i+1<e.length&&" "===e[i+1];t.push({type:"inlineXml",text:m,hasInlineBefore:n,hasInlineAfter:r,hasSpaceBefore:a,hasSpaceAfter:o})}else t.push({type:"xml",text:m});n=i,r=i+1}else{t.push({type:"partialXml",text:e.slice(l)}),r=e.length;break}}}}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}(e),o={type:"root",children:[]};for(let e of a)if("xml"===e.type||"inlineXml"===e.type)try{let t=function(e){let t=findAntXMLStartTag(e);if(null!==t){var n;if(0!==t.index)return invalidXml(Error("Invalid XML. Start tag found after some text."));let r=t[1];if(!g.x.has(r))return{type:"root",children:[{type:"element",name:"unknown_xml_tag",attributes:"inlineXml"===e.type?getInlineXmlAttributes(e):{},children:[{type:"text",value:e.text}]}]};let l=new RegExp("</".concat(r,">\\n?")),i=l.exec(e.text.slice(t[0].length));if(null===i)return invalidXml(Error("Invalid XML. No closing tag found for <".concat(r,">.")));let a=null===(n=t[2])||void 0===n?void 0:n.trim(),o=a?parseAntXmlAttributes(a):{},s="inlineXml"===e.type?getInlineXmlAttributes(e):{},c=e.text.slice(t[0].length,t[0].length+i.index),d=function parseAntXmlBody(e){let t;let n=[],r=RegExp("<([^/\\s!>]+)([^>]*)>(.*?)<\\/\\1>","gs"),l=0;for(;null!==(t=r.exec(e));){if(t.index>l){let r=e.slice(l,t.index);r&&n.push({type:"text",value:r})}l=t.index+t[0].length;let r=t[1];if(!g.x.has(r)){n.push({type:"text",value:t[0]});continue}let i=t[2].trim(),a=t[3],o=parseAntXmlAttributes(i),s=parseAntXmlBody(a);n.push({type:"element",name:r,attributes:o,children:s})}if(l<e.length){let t=e.slice(l);t&&n.push({type:"text",value:t})}let i=[];for(let e=0;e<n.length;e++){let t=n[e];"text"===t.type&&i.length>0&&"text"===i[i.length-1].type?i[i.length-1].value+=t.value:i.push(t)}return i}(c);return{type:"root",children:[{type:"element",name:r,attributes:{...o,...s},children:d}]}}function invalidXml(t){return{type:"root",children:[createInvalidXmlElement(t,e)]}}return invalidXml(Error("Failed to parse XML. No valid start tag found."))}(e);o.children.push(...t.children)}catch(t){x.Tb(t),o.children.push(createInvalidXmlElement(t,e))}else if("partialXml"===e.type){let t=findAntXMLStartTag(e),n=null;null!==t&&(n=t[1]);let r={type:"element",name:"antml_partial",children:[{type:"text",value:e.text}],data:{hProperties:{partialTagType:n}}};o.children.push(r);continue}else if(n){let t=(0,h.l)().use(d.Z).use(r).use(f.Z),n=new m.k;n.value=e.text;let l=t.runSync(t.parse(n),n);o.children.push(...l.children)}else o.children.push({type:"text",value:e.text,data:{hName:"text"}});let s=(0,h.l)().use(cleanupPositions).use(addHName).use(y.Z).use(i).use(u.Z).use(l),c=new m.k;return c.value=e,s.runSync(o,c)}(t,{remarkPlugins:p?[...a]:[],rehypePlugins:p?[...c,s.Z]:c,antmlPlugins:o,parseMarkdown:p});return(0,l.v)(e,{Fragment:i.Fragment,components:v,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0})},[o,t,v,c,a,p]);return(0,r.jsx)("div",{className:n,children:b})}},20353:function(e,t,n){n.d(t,{x:function(){return r}});let r=new Set(["antml:artifact","antml:cite","antml:function_calls","antml:image","antml:inline-ui","antml:invoke","antml:parameter","antml:span","antml:thinking","antThinking","bash","bib_item_reference","bib_item","bib_reference","bibliography","display_text","error","fetch_result","file-attachment-contents","function","function_calls","functions","function_results","invoke","issue_description","item","name","output_image","output","page_content","parameter","parameters","python","quote","result","search_quality_reflection","search_query","search_results","source","sql","stderr","stdout","summary","system","tool_name","uploaded_files","url"])},57188:function(e,t,n){n.d(t,{Z:function(){return mergeInlineXml}});function mergeInlineXml(){return function(e){let t=e.children.some(isInlineElement);if(!t)return;let n=[];for(let t=0;t<e.children.length;t++){var r,l,i,a,o,s;let c=e.children[t];if(!isInlineElement(c)){n.push(c);continue}let d=(null===(r=c.attributes)||void 0===r?void 0:r["inline-before"])==="true",u=(null===(l=c.attributes)||void 0===l?void 0:l["inline-after"])==="true",p=n.length>0?n[n.length-1]:null,h=(null==p?void 0:p.type)==="paragraph"?p:null,m=!1;d&&h&&(h.children||(h.children=[]),(null===(i=c.attributes)||void 0===i?void 0:i["space-before"])==="true"&&h.children.push({type:"text",value:" "}),h.children.push(c),m=!0,(null===(a=c.attributes)||void 0===a?void 0:a["space-after"])==="true"&&h.children.push({type:"text",value:" "}));let f=u?e.children[t+1]:null;u&&(null==f?void 0:f.type)==="paragraph"&&(d&&h?(f.children&&h.children.push(...f.children),t+=1):(f.children||(f.children=[]),(null===(o=c.attributes)||void 0===o?void 0:o["space-after"])==="true"&&f.children.unshift({type:"text",value:" "}),f.children.unshift(c),m=!0,(null===(s=c.attributes)||void 0===s?void 0:s["space-before"])==="true"&&f.children.unshift({type:"text",value:" "}))),m||n.push(c)}function isInlineElement(e){var t;return"element"===e.type&&(null===(t=e.attributes)||void 0===t?void 0:t.inline)==="true"}e.children=n}}},41483:function(e,t,n){n.d(t,{NJ:function(){return antmlTransformers},_N:function(){return computerUse},si:function(){return useSearchResults}});var r=n(98234),l=n(54814),i=n(20353);function isAntmlTag(e){return i.x.has(e.name)}function antmlTransformers(){return function(e){(0,r.Vn)(e,"element",e=>{if("antml:artifact"===e.name&&isAntmlTag(e))return e.data.hProperties={...e.attributes},l.AM;"invalid_xml"===e.name&&(e.data.hProperties={error:e.data.error})})}}let a={key:"#f59e0b",type:"#ef4444",mouse_move:"#3b82f6",left_click:"#15d991",left_click_drag:"#8b5cf6",right_click:"#f87171",middle_click:"#f59e0b",double_click:"#f59e0b",screenshot:"#6ee7b7",cursor_position:"#3b82f6",left_mouse_down:"#10b981",left_mouse_up:"#10b981",scroll:"#10b981",hold_key:"#ffaaaa",wait:"#aaaaaa",triple_click:"#f59e0b"},createAnnotationsFromToolCall=e=>{var t,n,r,l,i;let o=[];switch(e.action){case"left_click":case"right_click":case"middle_click":case"double_click":case"triple_click":case"mouse_move":e.coordinate&&o.push({type:"circle",animate:!0,coordinate:{x:e.coordinate[0],y:e.coordinate[1]},color:a[e.action],opacity:.7,borderColor:"#88FF10",tooltip:e.action}),e.text&&o.push({type:"text",coordinate:{x:null!==(r=null===(t=e.coordinate)||void 0===t?void 0:t[0])&&void 0!==r?r:0,y:null!==(l=null===(n=e.coordinate)||void 0===n?void 0:n[1])&&void 0!==l?l:0},text:"Type:"+e.text,color:"#ef4444",tooltip:"Typed text"});break;case"scroll":if(e.coordinate&&e.scroll_direction){let t=null!==(i=e.scroll_amount)&&void 0!==i?i:10;o.push({type:"line",addArrowAtEnd:!0,coordinate:{x:e.coordinate[0],y:e.coordinate[1]},color:a[e.action],deltas:{xDelta:"left"===e.scroll_direction?-(30*t):"right"===e.scroll_direction?30*t:0,yDelta:"up"===e.scroll_direction?-(30*t):"down"===e.scroll_direction?30*t:0}})}break;case"left_click_drag":e.coordinate&&e.start_coordinate&&(o.push({type:"icon",coordinate:{x:e.start_coordinate[0],y:e.start_coordinate[1]},icon:"DotsHorizontalIcon",color:"#8b5cf6",size:24,tooltip:"Drag start"}),o.push({type:"line",coordinate:{x:e.start_coordinate[0],y:e.start_coordinate[1]},deltas:{xDelta:e.coordinate[0]-e.start_coordinate[0],yDelta:e.coordinate[1]-e.start_coordinate[1]},color:"#8b5cf6",addArrowAtEnd:!0}));break;case"left_mouse_down":case"left_mouse_up":o.push({type:"text",coordinate:{x:200,y:200},text:e.action,color:"#ef4444",tooltip:"Typed text",opacity:.7});break;case"type":e.text&&o.push({type:"text",coordinate:{x:300,y:300},text:"Type:"+e.text,color:"#ef4444",tooltip:"Typed text",opacity:.7});break;case"key":e.text&&o.push({type:"text",coordinate:{x:200,y:200},text:"Key:"+e.text,color:"#f59e0b",tooltip:"Key pressed",opacity:.7});break;case"wait":o.push({type:"text",coordinate:{x:200,y:200},text:"Wait(".concat(e.duration,"s)"),color:"#f59e0b",tooltip:"Wait",opacity:.7});break;case"screenshot":o.push({type:"icon",coordinate:{x:200,y:200},icon:"CameraIcon",color:"#6ee7b7",size:24,tooltip:"Screenshot"});break;case"hold_key":o.push({type:"text",coordinate:{x:200,y:200},text:"Hold key for ".concat(e.duration," seconds: ").concat(e.text),color:"#ffaaaa",tooltip:"Hold key",opacity:.7})}return o};function computerUse(){return function(e){let t=[],n=[];for(let a of((0,r.Vn)(e,"element",e=>{if(("antml:invoke"===e.name||"invoke"===e.name)&&isAntmlTag(e)){let n=e.children.filter(e=>"element"===e.type&&("antml:parameter"===e.name||"parameter"===e.name)).map(e=>{let t=e.attributes.name,n=e.children[0],r=(null==n?void 0:n.type)==="text"?n.value:void 0;return{name:t,value:r}});return e.data.hProperties={toolName:e.attributes.name,parameters:n},t.push(e),l.AM}if("antml:image"===e.name&&isAntmlTag(e)||"error"===e.name&&isAntmlTag(e))return n.push(e),l.AM}),t.shift(),n)){var i;let e=t.shift();if(!e||"error"===a.name)continue;let n=null===(i=e.data.hProperties)||void 0===i?void 0:i.parameters,r=function(e){let t=e.action,n="string"==typeof e.coordinate?JSON.parse(e.coordinate):null,r="string"==typeof e.start_coordinate?JSON.parse(e.start_coordinate):null,l=e.scroll_direction,i="string"==typeof e.scroll_amount?parseInt(e.scroll_amount):null,a="string"==typeof e.text?e.text:null,o="string"==typeof e.duration?parseInt(e.duration):null;return{action:t,coordinate:n,start_coordinate:r,scroll_direction:l,scroll_amount:i,text:a,duration:o}}(Object.fromEntries(n.map(e=>[e.name,e.value]))),l=createAnnotationsFromToolCall(r);a.data.hProperties={annotations:l}}}}var o=n(2265);function searchResults(){return function(e){(0,r.Vn)(e,"element",e=>{if("search_results"===e.name&&isAntmlTag(e)){let t=e.children.filter(e=>"element"===e.type&&"item"===e.name).map(e=>{var t,n,r,l,i,a;let o=e.children.find(e=>"element"===e.type&&"source"===e.name),s=null!==(r=null===(t=null==o?void 0:o.children.find(e=>"text"===e.type))||void 0===t?void 0:t.value)&&void 0!==r?r:void 0,c=e.children.find(e=>"element"===e.type&&"summary"===e.name),d=null!==(l=null===(n=null==c?void 0:c.children.find(e=>"text"===e.type))||void 0===n?void 0:n.value)&&void 0!==l?l:void 0,u=null!==(i=null==e?void 0:e.children.filter(e=>"element"===e.type&&"antml:span"===e.name).map(e=>{var t,n;return null!==(n=null===(t=e.children.find(e=>"text"===e.type))||void 0===t?void 0:t.value)&&void 0!==n?n:""}))&&void 0!==i?i:[],p=e.children.find(e=>"element"===e.type&&"page_content"===e.name),h=null!==(a=null==p?void 0:p.children.filter(e=>"element"===e.type&&"antml:span"===e.name).map(e=>{var t,n;return null!==(n=null===(t=e.children.find(e=>"text"===e.type))||void 0===t?void 0:t.value)&&void 0!==n?n:""}))&&void 0!==a?a:[];return h.length>0&&u.push(...h),{source:s,summary:d,content:u}});return e.data.hProperties={items:t},e.children=[],l.AM}if("fetch_result"===e.name&&isAntmlTag(e)){let t=function(e){var t,n,r,l;let i=e.children.find(e=>"item"===e.name);if(!i)return null;let a=i.children.find(e=>"source"===e.name),o=i.children.find(e=>"page_content"===e.name);if(!a||!o)return null;let s=null!==(r=null===(t=a.children[0])||void 0===t?void 0:t.value.trim())&&void 0!==r?r:"",c=null!==(l=null===(n=o.children[0])||void 0===n?void 0:n.value.trim())&&void 0!==l?l:"";return{source:s,pageContent:c}}(e);return t&&(e.data.hProperties={...t},e.children=[]),l.AM}})}}function useSearchResults(){return(0,o.useMemo)(()=>searchResults,[])}},63193:function(e,t,n){var r=n(57437),l=n(3760);t.Z=e=>{let{...t}=l,n=t[e.icon];return n?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n,{className:e.className,"aria-hidden":"true"})}):(0,r.jsx)("div",{className:"text-xs",children:"Icon Not Found"})}}}]);
//# sourceMappingURL=9936-c9314376abfc8148.js.map